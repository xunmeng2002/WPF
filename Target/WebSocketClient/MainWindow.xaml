<Window x:Class="WebSocketClient.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WebSocketClient"
        mc:Ignorable="d"
        Title="MainWindow" Height="800" Width="1200" x:Name="mainWindow">
    <Grid DataContext="{Binding ElementName=mainWindow}">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="120"/>
            <RowDefinition Height="80"/>
            <RowDefinition Height="40"/>
            <RowDefinition Height="40"/>
            <RowDefinition Height="40"/>
            <RowDefinition Height="40"/>
        </Grid.RowDefinitions>
        <TabControl HorizontalAlignment="Stretch" HorizontalContentAlignment="Left">
            <TabItem Header="持仓"></TabItem>
            <TabItem Header="资金"></TabItem>
            <TabItem Header="委托">
                <DataGrid IsReadOnly="True" AutoGenerateColumns="False" ItemsSource="{Binding OrderViewModel.Orders}">
                    <DataGrid.Columns>
                        <DataGridCheckBoxColumn Binding="{Binding isSelected, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="False">
                            <DataGridCheckBoxColumn.Header>
                                <CheckBox Name="orderCheckBox" Checked="orderCheckBox_CheckedChange" Unchecked="orderCheckBox_CheckedChange"/>
                            </DataGridCheckBoxColumn.Header>
                        </DataGridCheckBoxColumn>
                        <!--<DataGridTextColumn Header="Type" Binding="{Binding type}"></DataGridTextColumn>-->
                        <DataGridTextColumn Header="Reqid" Binding="{Binding reqid}"></DataGridTextColumn>
                        <DataGridTextColumn Header="Envno" Binding="{Binding envno}"></DataGridTextColumn>
                        <DataGridTextColumn Header="CustomerId" Binding="{Binding customerId}"></DataGridTextColumn>
                        <DataGridTextColumn Header="Investid" Binding="{Binding investid}"></DataGridTextColumn>
                        <DataGridTextColumn Header="Plotid" Binding="{Binding plotid}"></DataGridTextColumn>
                        <DataGridTextColumn Header="LocalId" Binding="{Binding localId}"></DataGridTextColumn>
                        <DataGridTextColumn Header="OrderStatus" Binding="{Binding orderStatus}"></DataGridTextColumn>
                        <DataGridTextColumn Header="Market" Binding="{Binding market}"></DataGridTextColumn>
                        <DataGridTextColumn Header="SecurityId" Binding="{Binding securityId}"></DataGridTextColumn>
                        <DataGridTextColumn Header="OrdQty" Binding="{Binding ordQty}"></DataGridTextColumn>
                        <DataGridTextColumn Header="OrdPrice" Binding="{Binding ordPrice}"></DataGridTextColumn>
                        <DataGridTextColumn Header="TradeQty" Binding="{Binding tradeQty}"></DataGridTextColumn>
                        <DataGridTextColumn Header="TradeAvgPx" Binding="{Binding tradeAvgPx}"></DataGridTextColumn>
                        <DataGridTextColumn Header="SendLocTime" Binding="{Binding sendLocTime}"></DataGridTextColumn>
                        <DataGridTextColumn Header="CnfLocTime" Binding="{Binding cnfLocTime}"></DataGridTextColumn>
                        <DataGridTextColumn Header="SendTime" Binding="{Binding sendTime}"></DataGridTextColumn>
                        <DataGridTextColumn Header="CnfTime" Binding="{Binding cnfTime}"></DataGridTextColumn>
                        <DataGridTextColumn Header="ErrorId" Binding="{Binding errorId}"></DataGridTextColumn>
                        <DataGridTextColumn Header="ErrorMsg" Binding="{Binding errorMsg}"></DataGridTextColumn>
                    </DataGrid.Columns>
                </DataGrid>
            </TabItem>
            <TabItem Header="可撤">
                <DataGrid IsReadOnly="True" AutoGenerateColumns="False">
                    <!--<DataGrid.Resources>
                        <local:BindingProxy x:Key="DataContextProxy" Data="{Binding}"/>
                    </DataGrid.Resources>-->
                    <DataGrid.Columns>
                        <DataGridCheckBoxColumn Binding="{Binding isSelected, Mode=TwoWay}" IsReadOnly="False">
                            <DataGridCheckBoxColumn.Header>
                                <CheckBox />
                            </DataGridCheckBoxColumn.Header>
                        </DataGridCheckBoxColumn>
                        <!--<DataGridTextColumn Header="Type" Binding="{Binding type}"></DataGridTextColumn>-->
                        <DataGridTextColumn Header="Reqid" Binding="{Binding Path=reqid}"></DataGridTextColumn>
                        <DataGridTextColumn Header="Envno" Binding="{Binding envno}"></DataGridTextColumn>
                        <DataGridTextColumn Header="CustomerId" Binding="{Binding customerId}"></DataGridTextColumn>
                        <DataGridTextColumn Header="Investid" Binding="{Binding investid}"></DataGridTextColumn>
                        <DataGridTextColumn Header="Plotid" Binding="{Binding plotid}"></DataGridTextColumn>
                        <DataGridTextColumn Header="LocalId" Binding="{Binding localId}"></DataGridTextColumn>
                        <DataGridTextColumn Header="OrderStatus" Binding="{Binding orderStatus}"></DataGridTextColumn>
                        <DataGridTextColumn Header="Market" Binding="{Binding market}"></DataGridTextColumn>
                        <DataGridTextColumn Header="SecurityId" Binding="{Binding securityId}"></DataGridTextColumn>
                        <DataGridTextColumn Header="OrdQty" Binding="{Binding ordQty}"></DataGridTextColumn>
                        <DataGridTextColumn Header="OrdPrice" Binding="{Binding ordPrice}"></DataGridTextColumn>
                        <DataGridTextColumn Header="TradeQty" Binding="{Binding tradeQty}"></DataGridTextColumn>
                        <DataGridTextColumn Header="TradeAvgPx" Binding="{Binding tradeAvgPx}"></DataGridTextColumn>
                        <DataGridTextColumn Header="SendLocTime" Binding="{Binding sendLocTime}"></DataGridTextColumn>
                        <DataGridTextColumn Header="CnfLocTime" Binding="{Binding cnfLocTime}"></DataGridTextColumn>
                        <DataGridTextColumn Header="SendTime" Binding="{Binding sendTime}"></DataGridTextColumn>
                        <DataGridTextColumn Header="CnfTime" Binding="{Binding cnfTime}"></DataGridTextColumn>
                        <DataGridTextColumn Header="ErrorId" Binding="{Binding errorId}"></DataGridTextColumn>
                        <DataGridTextColumn Header="ErrorMsg" Binding="{Binding errorMsg}"></DataGridTextColumn>
                    </DataGrid.Columns>
                </DataGrid>
            </TabItem>
            <TabItem Header="成交"></TabItem>
        </TabControl>
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="2*"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            
            <GroupBox Header="服务器地址">
                <TextBox x:Name="addressTextBox">ws://127.0.0.1:10000</TextBox>
            </GroupBox>
            <Button Grid.Row="1" x:Name="connectButton" Click="Connect_Click">连接</Button>
            <GroupBox Grid.Column="1" Header="用户名">
                <TextBox Name="userNameTextBox"></TextBox>
            </GroupBox>
            <GroupBox Grid.Column="2" Header="密码">
                <PasswordBox Name="passwordBox"></PasswordBox>
            </GroupBox>
            <Button Grid.Column="1" Grid.ColumnSpan="2" Grid.Row="1" Name="loginButton"  Click="Login_Click">登录</Button>
        </Grid>
        <Grid Grid.Row="2" >
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>

            <GroupBox Grid.Column="0" Header="合约代码">
                <TextBox Name="securityTextBox">600000</TextBox>
            </GroupBox>

            <GroupBox Grid.Column="1" Header="撤单标记">
                <CheckBox Name="isCancelCheckBox"></CheckBox>
            </GroupBox>

            <GroupBox Grid.Column="2" Header="买卖方向">
                <ComboBox Name="bsTypeCombBox">
                    <ComboBoxItem Content="买入" IsSelected="True"></ComboBoxItem>
                    <ComboBoxItem Content="卖出"></ComboBoxItem>
                </ComboBox>
            </GroupBox>

            <GroupBox Grid.Column="3" Header="价格">
                <TextBox Name="priceTextBox">50.45</TextBox>
            </GroupBox>

            <GroupBox Grid.Column="4" Header="数量">
                <TextBox Name="quantityTextBox">1200</TextBox>
            </GroupBox>

            <GroupBox Grid.Column="5" Header="委托类别">
                <ComboBox Name="priceTypeCombBox">
                    <ComboBoxItem Content="限价" IsSelected="True"></ComboBoxItem>
                    <ComboBoxItem Content="市价"></ComboBoxItem>
                </ComboBox>
            </GroupBox>
        </Grid>
        <Grid Grid.Row="3" >
            <Button x:Name="SendButton" Click="Send_Click">Send</Button>
        </Grid>
        <Grid Grid.Row="4">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <TextBlock VerticalAlignment="Center">发送数据：</TextBlock>
            <TextBox Grid.Column="1" x:Name="sendContentBox" IsReadOnly="True"></TextBox>
        </Grid>
        <Grid Grid.Row="5">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <TextBlock VerticalAlignment="Center">接收数据：</TextBlock>
            <TextBox Grid.Column="1" x:Name="recvContentBox" IsReadOnly="True"></TextBox>
        </Grid>
        <Grid Grid.Row="6">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition Width="auto"/>
            </Grid.ColumnDefinitions>
            <TextBlock Grid.Column="0" x:Name="infoBlock" FontSize="20" FontWeight="Bold"></TextBlock>
            <TextBlock Grid.Column="1" FontSize="20" FontWeight="Bold">ConnectStatus:</TextBlock>
            <TextBlock Grid.Column="2" x:Name="statusBlock" MinWidth="50" TextAlignment="Right" Text="{Binding ConnectStatus}"
                       Foreground="Red" FontWeight="Bold" FontStyle="Italic" FontSize="20"></TextBlock>
        </Grid>
    </Grid>
</Window>
